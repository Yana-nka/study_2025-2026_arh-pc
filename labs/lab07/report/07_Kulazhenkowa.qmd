---
## Author
author:
  name: Кулаженкова Яна Сергеевна
  degrees: DSc
  orcid: 0000-0002-0877-7063
  email: 1032253497@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: "Отчёт по лабораторной работе №7"
subtitle: "НКАбд-03-25, 1032253497"
license: "CC BY"
---

# Цель работы

Изучение команд условного и безусловного переходов. Приобретение навыков написания программ с использованием переходов. Знакомство с назначением и структурой файла листинга.

# Задание

Освоить методы реализации ветвлений в ассемблере NASM путем изучения команд безусловного и условного переходов.

# Теоретическое введение

Данная лабораторная работа посвящена изучению механизмов реализации ветвлений в среде ассемблера NASM. Основным инструментом организации ветвлений являются команды передачи управления (команды переходов), позволяющие изменять естественный поток выполнения программы в зависимости от определенных условий.

Переходы классифицируются на два основных типа:

1. Безусловные переходы - передача управления производится без какой-либо предварительной проверки условий. Этот механизм реализуется с помощью инструкции ` jmp`, которая принимает в качестве аргумента целевой адрес (метку, абсолютный адрес или содержимое регистра).
2. Условные переходы выполняются только при соблюдении определенного условия, которое определяется состоянием специальных флагов регистра флагов. Эти флаги устанавливаются различными инструкциями, такими как `cmp` (сравнение), в зависимости от результата операций.

Раздел посвящен детальному рассмотрению обоих типов переходов, особенностям реализации ветвлений и формированию соответствующих конструкций в ассемблерных программах. Особое внимание уделяется структуре файла листинга, который создается компилятором NASM и играет важную роль в процессе отладки программ.

# Выполнение лабораторной работы
## Реализация переходов в NASM

Начнём выполнение лабораторной работы. Создадим каталог для программам ([рис. @fig-001]).

![Начало работы с файлом](image/1.png){#fig-001 width=80%}.

Рассмотрим пример программы с использованием инструкции jmp. Введем в файл lab6-1.asm данный текст программы ([рис. @fig-002]).

![Подготовка файла](image/2.png){#fig-002 width=80%}

Создадим исполняемый файл и запустим его ([рис. @fig-003]).

![Исполняемый файл](image/3.png){#fig-003 width=80%}

Изменим программу таким образом, чтобы она выводила сначала ‘Сообщение №2’, потом ‘Сообщение №1’ и завершала работу ([рис. @fig-004]).

![Изменим код](image/4.png){#fig-004 width=80%}

Продемонстрируем работу файла ([рис. @fig-005]).

![Запуск файла](image/5.png){#fig-005 width=80%}

Теперь рассмотрим программу, которая определяет и выводит на экран наибольшую из 3 целочисленная переменных: A,B и C. Для этого создадим файл lab7-2.asm ([рис. @fig-006]).

![Второй файл](image/6.png){#fig-006 width=80%}

Создадим исполняемый файл и проверим его работу ([рис. @fig-007]).

![Запуск второго файла](image/7.png){#fig-007 width=80%}

## Изучение структуры файла листинга

Создадим файл листинга для программы из файла lab7-2.asm ([рис. @fig-008]).

![Новый код программы](image/8.png){#fig-008 width=80%}

Изучим содержание файла листинга lab7-2.lst с помощью любого текстового редактора.

Анализ выбранного фрагмента листинга

```
10 | 00000000 | B804000000 | mov eax,4
11 | 00000005 | BB01000000 | mov ebx,1
12 | 0000000A | B900000000 | mov ecx,hello
```
Каждая строка листинга состоит из четырех полей:

1. Номер строки.
2. Смещение.
3. Машинный код.
4. Исходный текст программы.

Первая строка листинга:
Номер строки: 10 — десятая строка листинга. Смещение: 00000000 — начало сегмента. Машинный код: B804000000 — команда MOV с непосредственной загрузкой значения 4 в регистр EAX. Исходный текст: инструкция mov eax,4.

Вторая строка листинга:
Номер строки: 11 — следующая строка листинга. Смещение: 00000005 — инструкция располагается по смещению 5. Машинный код: BB01000000 — оманда MOV с непосредственной загрузкой значения 1 в регистр EBX. Исходный текст: инструкция mov ebx,1.

Третья строка листинга:
Номер строки: 12 — очередная строка листинга. Смещение: 0000000A — инструкция размещена по смещению A (десятичное 10). Машинный код: B900000000 — команда MOV с загрузкой адреса метки hello в регистр ECX. Исходный текст: инструкция mov ecx,hello.

# Задания для самостоятельной работы
## 1

Напишем программу, которая находит наименьшую величину из трех целочисленных переменных ([рис. @fig-009]).

![Запуск файла](image/9.png){#fig-009 width=80%}

## 2

Создадим программу, которая вычисляет значение функции для введенных с клавиатуры значений ([рис. @fig-010]).

![Запуск файла](image/10.png){#fig-010 width=80%}

# Выводы

В ходе выполнения лабораторной работы были освоены механизмы реализации ветвлений в языке ассемблера NASM посредством команд безусловного и условного переходов. Были изучены особенности работы с этими командами, рассмотрены способы изменения естественного порядка выполнения инструкций в программе.

Все выполненные задания подтвердили успешное усвоение материала, касающегося принципов работы команд переходов и особенностей формирования программы на ассемблере.
